<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            const body = document.body;
            const isMobile = window.innerWidth <= 768;

            if (isMobile) {
                // MOBILE: buka/tutup sidebar
                sidebar.classList.toggle('show');
            } else {
                // DESKTOP: mini sidebar
                sidebar.classList.toggle('collapsed');
                body.classList.toggle('sidebar-closed');

                localStorage.setItem(
                    'sidebarState',
                    sidebar.classList.contains('collapsed') ? 'closed' : 'open'
                );
            }
        }

        document.addEventListener("DOMContentLoaded", function () {
            const sidebar = document.getElementById('sidebar');
            const body = document.body;

            // Restore hanya untuk desktop
            if (window.innerWidth > 768) {
                const savedState = localStorage.getItem('sidebarState');
                if (savedState === 'closed') {
                    sidebar.classList.add('collapsed');
                    body.classList.add('sidebar-closed');
                }
            }

            // Menu aktif
            const currentPath = window.location.pathname;
            document.querySelectorAll('.sidebar-link').forEach(link => {
                const href = link.getAttribute('href');
                link.classList.toggle(
                    'active',
                    href === '/dashboard'
                        ? (currentPath === '/' || currentPath === '/dashboard')
                        : currentPath.startsWith(href)
                );
            });
        });
    </script>
</body>
</html>